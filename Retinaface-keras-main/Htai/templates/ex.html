<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../static/layui/css/layui.css" media="all">
    <script src="../static/layui/layui.js" type="text/javascript" charset="UTF-8"></script>
</head>
<body>
<div>
	<input type="file" name="FileUpload" id="FileUpload">
	<a class="layui-btn layui-btn-mini" id="btn_uploadimg">上传图片</a>
</div>
<script src="../static/js/jquery-3.2.1.min.js"></script>
<script type="text/jscript">

    $(function () {
        $("#btn_uploadimg").click(function () {
            var fileObj = document.getElementById("FileUpload").files[0]; // js 获取文件对象
            if (typeof (fileObj) == "undefined" || fileObj.size <= 0) {
                alert("请选择图片");
                return;
            }
            var formFile = new FormData();
            formFile.append("action", "UploadVMKImagePath");
            formFile.append("file", fileObj); //加入文件对象

            //ajax 提交

            var form_data = formFile;
            console.log(form_data);
            console.log(form_data.append.name);
            $.ajax({
                url: "../user/upload",
                data: form_data,
                type: "post",
                dataType: "json",
                cache: false,//上传文件无需缓存
                processData: false,//用于对data参数进行序列化处理 这里必须false
                contentType: false, //必须
                success: function (result) {
                    alert("上传完成!");
                },
            })
        })
    })

 </script>
</body>


</html>